<!DOCTYPE html>
<html>
<head>
  <title>Inbox for <%= number.number %></title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <h1>ðŸ“¨ Inbox for <%= number.number %></h1>
  <button onclick="location.reload()">ðŸ”„ Refresh</button>
  <ul class="message-list">
    <% if (messages.length === 0) { %>
      <p>No messages received yet.</p>
    <% } else { %>
      <% messages.forEach(msg => { %>
        <li>
          <strong>From:</strong> <%= msg.from %><br>
          <strong>Time:</strong> <%= msg.time %><br>
          <strong>Message:</strong> <code class="copy-text"><%= msg.body %></code>
        </li>
      <% }) %>
    <% } %>
  </ul>
  <script>
    document.querySelectorAll(".copy-text").forEach(el => {
      el.addEventListener("click", () => {
        navigator.clipboard.writeText(el.textContent);
        alert("Copied: " + el.textContent);
      });
    });
  </script>
</body>
</html>
